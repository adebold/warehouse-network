apiVersion: v2
name: claude-platform
description: Complete DevOps platform with GitOps, monorepo management, and infrastructure as code
type: application
version: 1.0.0
appVersion: "1.0.0"
keywords:
  - devops
  - gitops
  - kubernetes
  - platform
home: https://github.com/claude-platform/devops
sources:
  - https://github.com/claude-platform/devops
maintainers:
  - name: Claude Platform Team
    email: platform@claude.ai
icon: https://claude-platform.com/icon.png

dependencies:
  # PostgreSQL Database
  - name: postgresql
    version: "13.2.24"
    repository: https://charts.bitnami.com/bitnami
    condition: postgresql.enabled
    tags:
      - database
  
  # Redis Cache
  - name: redis
    version: "18.6.1"
    repository: https://charts.bitnami.com/bitnami
    condition: redis.enabled
    tags:
      - cache
  
  # Prometheus for Metrics
  - name: kube-prometheus-stack
    version: "55.5.0"
    repository: https://prometheus-community.github.io/helm-charts
    condition: monitoring.prometheus.enabled
    tags:
      - monitoring
  
  # Grafana Loki for Logging
  - name: loki-stack
    version: "2.9.11"
    repository: https://grafana.github.io/helm-charts
    condition: monitoring.loki.enabled
    tags:
      - logging
  
  # External Secrets for Secret Management
  - name: external-secrets
    version: "0.9.11"
    repository: https://charts.external-secrets.io
    condition: externalSecrets.enabled
    tags:
      - security

annotations:
  # Chart testing
  "helm.sh/images": |
    - name: claude-platform
      image: ghcr.io/claude-platform/devops:1.0.0
  
  # Artifact Hub annotations
  "artifacthub.io/changes": |
    - kind: added
      description: Initial release of Claude Platform Helm chart
  "artifacthub.io/containsSecurityUpdates": "false"
  "artifacthub.io/license": MIT
  "artifacthub.io/operator": "false"
  "artifacthub.io/prerelease": "false"
  "artifacthub.io/recommendations": |
    - url: https://artifacthub.io/packages/helm/prometheus-community/kube-prometheus-stack
    - url: https://artifacthub.io/packages/helm/bitnami/postgresql
    - url: https://artifacthub.io/packages/helm/bitnami/redis